<html><head><base href="custom-task.html">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>åˆ›å»ºè‡ªå®šä¹‰ä»»åŠ¡</title>
<style>
:root {
  --primary-color: #8A2BE2;
  --secondary-color: #4B0082;
  --background-gradient: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
  --card-background: rgba(255, 255, 255, 0.05);
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: #000;
  color: #fff;
  line-height: 1.5;
}

.mobile-container {
  max-width: 430px;
  margin: 0 auto;
  min-height: 100vh;
  min-height: calc(100vh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));
  background: var(--background-gradient);
  padding: calc(10px + var(--safe-area-inset-top)) 15px calc(65px + var(--safe-area-inset-bottom));
  position: relative;
}

.header {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
  padding: 10px 0;
}

.back-btn {
  background: none;
  border: none;
  color: white;
  font-size: 24px;
  cursor: pointer;
  padding: 5px;
}

.header-title {
  flex-grow: 1;
  text-align: center;
  font-size: 18px;
  margin-right: 24px;
}

.difficulty-selector {
  margin: 20px 0;
  background: var(--card-background);
  border-radius: 15px;
  padding: 15px;
}

.difficulty-title {
  font-size: 16px;
  margin-bottom: 15px;
}

.difficulty-options {
  display: flex;
  gap: 10px;
}

.difficulty-btn {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.1);
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}

.difficulty-btn.active {
  background: var(--primary-color);
}

.difficulty-btn[data-difficulty="easy"] {
  border: 1px solid #4CAF50;
}

.difficulty-btn[data-difficulty="medium"] {
  border: 1px solid #FFC107;
}

.difficulty-btn[data-difficulty="hard"] {
  border: 1px solid #F44336;
}

.difficulty-btn.active[data-difficulty="easy"] {
  background: rgba(76, 175, 80, 0.3);
}

.difficulty-btn.active[data-difficulty="medium"] {
  background: rgba(255, 193, 7, 0.3);
}

.difficulty-btn.active[data-difficulty="hard"] {
  background: rgba(244, 67, 54, 0.3);
}

.difficulty-icon {
  font-size: 20px;
}

.difficulty-label {
  font-size: 14px;
}

.difficulty-desc {
  font-size: 11px;
  color: rgba(255, 255, 255, 0.7);
  text-align: center;
}

.task-type-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-bottom: 20px;
}

.task-type-btn {
  background: var(--card-background);
  border: none;
  color: white;
  padding: 20px;
  border-radius: 15px;
  cursor: pointer;
  transition: transform 0.2s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.task-type-btn:hover {
  transform: translateY(-2px);
  background: rgba(255, 255, 255, 0.1);
}

.task-type-icon {
  font-size: 24px;
  margin-bottom: 5px;
}

.task-type-label {
  font-size: 14px;
  text-align: center;
}

.task-type-desc {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.7);
  text-align: center;
}

.template-section {
  background: var(--card-background);
  border-radius: 15px;
  padding: 15px;
  margin-top: 20px;
}

.template-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.template-header a {
  color: white;
  text-decoration: none;
  font-size: 14px;
}

.category-scroll {
  display: flex;
  overflow-x: auto;
  gap: 10px;
  padding: 5px 0 15px 0;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.category-scroll::-webkit-scrollbar {
  display: none;
}

.category-btn {
  background: rgba(255, 255, 255, 0.1);
  border: none;
  color: white;
  padding: 6px 12px;
  border-radius: 15px;
  white-space: nowrap;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.category-btn.active {
  background: var(--primary-color);
}

.template-cards {
  display: flex;
  overflow-x: auto;
  gap: 15px;
  padding: 5px 0;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.template-cards::-webkit-scrollbar {
  display: none;
}

.template-card {
  flex: 0 0 200px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  padding: 15px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.template-card:hover {
  transform: translateY(-2px);
}

.template-title {
  font-size: 16px;
  margin-bottom: 5px;
}

.template-desc {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.4;
}

.template-time {
  font-size: 11px;
  color: rgba(255, 255, 255, 0.5);
  margin-top: 8px;
}

.help-tip {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.8);
  padding: 10px 20px;
  border-radius: 20px;
  font-size: 12px;
  color: rgba(255, 255, 255, 0.9);
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateX(-50%) translateY(10px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

@keyframes fadeOut {
  from { opacity: 1; transform: translateX(-50%) translateY(0); }
  to { opacity: 0; transform: translateX(-50%) translateY(10px); }
}

.tag {
  display: inline-block;
  padding: 2px 6px;
  border-radius: 10px;
  font-size: 10px;
  margin-top: 5px;
  background: rgba(138, 43, 226, 0.3);
}

.category-tag {
  margin-right: 5px;
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.15);
}
</style>
</head>
<body>

<div class="mobile-container">
  <div class="header">
    <button class="back-btn" onclick="history.back()">â†</button>
    <h1 class="header-title">åˆ›å»ºè‡ªå®šä¹‰ä»»åŠ¡</h1>
  </div>

  <div class="difficulty-selector">
    <h3 class="difficulty-title">é€‰æ‹©ä»»åŠ¡éš¾åº¦</h3>
    <div class="difficulty-options">
      <button class="difficulty-btn active" data-difficulty="easy">
        <span class="difficulty-icon">ğŸ˜Š</span>
        <span class="difficulty-label">ç®€å•</span>
        <span class="difficulty-desc">è½»æ¾å¼€å§‹ï¼Œé€‚åˆæ–°æ‰‹</span>
      </button>
      <button class="difficulty-btn" data-difficulty="medium">
        <span class="difficulty-icon">ğŸ¤”</span>
        <span class="difficulty-label">å¤æ‚</span>
        <span class="difficulty-desc">æœ‰æŒ‘æˆ˜ï¼Œéœ€è¦åŠªåŠ›</span>
      </button>
      <button class="difficulty-btn" data-difficulty="hard">
        <span class="difficulty-icon">ğŸ˜°</span>
        <span class="difficulty-label">åœ°ç‹±</span>
        <span class="difficulty-desc">æé™æŒ‘æˆ˜ï¼Œéå¸¸å›°éš¾</span>
      </button>
    </div>
  </div>

  <div class="task-type-grid">
    <button class="task-type-btn" onclick="window.location.href='custom-task-simple.html'">
      <span class="task-type-icon">ğŸ“</span>
      <span class="task-type-label">æ™®é€šä»»åŠ¡</span>
      <span class="task-type-desc">ä¸€æ¬¡æ€§å®Œæˆçš„å•æ¬¡ä»»åŠ¡</span>
    </button>

    <button class="task-type-btn" onclick="window.location.href='custom-task-repeat.html'">
      <span class="task-type-icon">ğŸ”„</span>
      <span class="task-type-label">é‡å¤ä»»åŠ¡</span>
      <span class="task-type-desc">æ¯å¤©/æ¯å‘¨/æ¯æœˆé‡å¤çš„ä»»åŠ¡</span>
    </button>

    <button class="task-type-btn" onclick="window.location.href='custom-task-interval.html'">
      <span class="task-type-icon">â±ï¸</span>
      <span class="task-type-label">é—´éš”ä»»åŠ¡</span>
      <span class="task-type-desc">æ¯éš”Xå°æ—¶/åˆ†é’Ÿé‡å¤</span>
    </button>

    <button class="task-type-btn" onclick="window.location.href='custom-task-specific.html'">
      <span class="task-type-icon">ğŸ“Œ</span>
      <span class="task-type-label">å®šç‚¹ä»»åŠ¡</span>
      <span class="task-type-desc">æ¯å½“å‡ ç‚¹/å‘¨å‡ /æ¯æœˆæŸå¤©</span>
    </button>

    <button class="task-type-btn" onclick="window.location.href='custom-task-timed.html'">
      <span class="task-type-icon">â°</span>
      <span class="task-type-label">å®šæ—¶ä»»åŠ¡</span>
      <span class="task-type-desc">ç‰¹å®šæ—¶é—´æ®µå®Œæˆçš„ä»»åŠ¡</span>
    </button>

    <button class="task-type-btn" onclick="window.location.href='custom-task-segments.html'">
      <span class="task-type-icon">ğŸ“…</span>
      <span class="task-type-label">åˆ†æ—¶æ®µä»»åŠ¡</span>
      <span class="task-type-desc">æ—©ä¸­æ™šåˆ†æ—¶æ®µå®Œæˆçš„ä»»åŠ¡</span>
    </button>

    <button class="task-type-btn" onclick="window.location.href='custom-task-challenge.html'">
      <span class="task-type-icon">ğŸ¯</span>
      <span class="task-type-label">æŒ‘æˆ˜ä»»åŠ¡</span>
      <span class="task-type-desc">14å¤©/30å¤©ç­‰é•¿æœŸæŒ‘æˆ˜</span>
    </button>

    <button class="task-type-btn" onclick="window.location.href='custom-task-flexible.html'">
      <span class="task-type-icon">â­</span>
      <span class="task-type-label">ä»»æ„æ—¶é—´ä»»åŠ¡</span>
      <span class="task-type-desc">çµæ´»æ—¶é—´å®Œæˆç‰¹å®šæ¬¡æ•°</span>
    </button>
  </div>

  <div class="template-section">
    <div class="template-header">
      <h3>çƒ­é—¨ä»»åŠ¡æ¨¡æ¿</h3>
      <a href="template-library.html">æŸ¥çœ‹å…¨éƒ¨ â†’</a>
    </div>

    <div class="category-scroll">
      <button class="category-btn active">å…¨éƒ¨</button>
      <button class="category-btn">å·¥ä½œ</button>
      <button class="category-btn">å­¦ä¹ </button>
      <button class="category-btn">å¥åº·</button>
      <button class="category-btn">è¿åŠ¨</button>
      <button class="category-btn">ç”Ÿæ´»</button>
      <button class="category-btn">å¨±ä¹</button>
      <button class="category-btn">ç†è´¢</button>
      <button class="category-btn">ç¤¾äº¤</button>
    </div>

    <div class="template-cards">
      <div class="template-card">
        <h4 class="template-title">æ¯2å°æ—¶å–æ°´æé†’</h4>
        <p class="template-desc">æ¯éš”2å°æ—¶æé†’å–ä¸€æ¯æ°´</p>
        <span class="tag">é—´éš”ä»»åŠ¡</span>
        <span class="category-tag">å¥åº·</span>
        <div class="template-time">é—´éš”: 2å°æ—¶</div>
      </div>

      <div class="template-card">
        <h4 class="template-title">å·¥ä½œæ—¥æ™¨ä¼š</h4>
        <p class="template-desc">æ¯å‘¨ä¸€è‡³å‘¨äº”æ—©ä¸Š9ç‚¹æ™¨ä¼š</p>
        <span class="tag">å®šç‚¹ä»»åŠ¡</span>
        <span class="category-tag">å·¥ä½œ</span>
        <div class="template-time">æ—¶é—´: æ¯å·¥ä½œæ—¥9:00</div>
      </div>

      <div class="template-card">
        <h4 class="template-title">æ—¥å¸¸è¿åŠ¨è®¡åˆ’</h4>
        <p class="template-desc">æ¯å¤©è¿›è¡Œ30åˆ†é’Ÿè¿åŠ¨</p>
        <span class="tag">å®šæ—¶ä»»åŠ¡</span>
        <span class="category-tag">è¿åŠ¨</span>
        <div class="template-time">æ—¶é•¿: 30åˆ†é’Ÿ</div>
      </div>

      <div class="template-card">
        <h4 class="template-title">å­¦ä¹ è¿›åº¦æ£€æŸ¥</h4>
        <p class="template-desc">æ¯å‘¨æ—¥æ™šå¤ä¹ æœ¬å‘¨å†…å®¹</p>
        <span class="tag">å®šç‚¹ä»»åŠ¡</span>
        <span class="category-tag">å­¦ä¹ </span>
        <div class="template-time">æ—¶é—´: æ¯å‘¨æ—¥</div>
      </div>

      <div class="template-card">
        <h4 class="template-title">æ¯æœˆå­˜é’±è®¡åˆ’</h4>
        <p class="template-desc">æ¯æœˆ1å·å­˜å…¥å›ºå®šé‡‘é¢</p>
        <span class="tag">å®šç‚¹ä»»åŠ¡</span>
        <span class="category-tag">ç†è´¢</span>
        <div class="template-time">æ—¶é—´: æ¯æœˆ1å·</div>
      </div>
    </div>
  </div>

  <div class="help-tip">
    é€‰æ‹©ä»»åŠ¡ç±»å‹æˆ–æ¨¡æ¿å¼€å§‹åˆ›å»º âœ¨
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const templateCards = document.querySelectorAll('.template-card');
  templateCards.forEach(card => {
    card.addEventListener('click', () => {
      const templateTitle = card.querySelector('.template-title').textContent;
      window.location.href = `custom-task-template.html?template=${encodeURIComponent(templateTitle)}`;
    });
  });

  const categoryBtns = document.querySelectorAll('.category-btn');
  categoryBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      categoryBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      console.log(`Selected category: ${btn.textContent}`);
    });
  });

  const helpTip = document.querySelector('.help-tip');
  if (helpTip) {
    setTimeout(() => {
      helpTip.style.animation = 'fadeOut 0.3s ease forwards';
      setTimeout(() => {
        helpTip.remove();
      }, 300);
    }, 5000);
  }
  
  // Add difficulty selector functionality
  const difficultyBtns = document.querySelectorAll('.difficulty-btn');
  difficultyBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      difficultyBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      
      // Store selected difficulty
      const difficulty = btn.dataset.difficulty;
      localStorage.setItem('selectedDifficulty', difficulty);
      
      // Adjust task parameters based on difficulty
      adjustTaskParameters(difficulty);
    });
  });
  
  function adjustTaskParameters(difficulty) {
    // This function adjusts task parameters based on difficulty
    const parameters = {
      easy: {
        defaultDuration: 15,
        repeatCount: 1,
        subTasks: 1
      },
      medium: {
        defaultDuration: 30,
        repeatCount: 3,
        subTasks: 2
      },
      hard: {
        defaultDuration: 60,
        repeatCount: 5,
        subTasks: 4
      }
    };
    
    console.log(`Adjusted parameters for ${difficulty} difficulty:`, parameters[difficulty]);
    // You would use these parameters to adjust form fields, etc.
  }
  
  // Initialize with default difficulty
  const savedDifficulty = localStorage.getItem('selectedDifficulty') || 'easy';
  const defaultDifficultyBtn = document.querySelector(`[data-difficulty="${savedDifficulty}"]`);
  if (defaultDifficultyBtn) {
    defaultDifficultyBtn.classList.add('active');
    adjustTaskParameters(savedDifficulty);
  }
});
</script>

</body></html>